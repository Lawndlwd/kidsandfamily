<div class="row justify-content-center m-0 p-0 mt-5">
  <div class="col-xs-11 col-md-11 col-md-offset-3 ">

    <div class="alert alert-danger"  *ngIf="failed">
      Please verify your details
    </div>

    <div class="alert alert-success"  *ngIf="success">
      All changes saved
    </div>

    <div class="text-center spinner my-auto position-absolute" *ngIf = "isLoading" >
      <app-loading-spinner></app-loading-spinner>
    </div>



    <form class="text-center  p-5 " #editProfileForm="ngForm" (ngSubmit)="onSubmit()" >
      <p class="h4 mb-5">Mon Compte - Mes Profiles</p>
      <div class="row justify-content-around my-5 ">
        <div class="form-group col-5 text-left px-0">
          <label for="type">Type</label>
          <select id="type" class="browser-default custom-select " [(ngModel)]="profile.type.id" name= type  (change)="onTypeSelected()" required  #type="ngModel" >
            <option  *ngFor="let type of types" [value]="type.id ">{{ type.type }}</option>
          </select>
          <div class="text-left" *ngIf="type.invalid && (type.dirty || type.touched)" >
            <small class="text-danger text-left" *ngIf="type.errors.required">
              Le type est obligatoire.
            </small>
          </div>
        </div>
        <div class="form-group col-5 text-left px-0">
          <label for="soustype">Sous Type</label>
          <select id="soustype"  class="browser-default custom-select " [(ngModel)]="profile.sousType.id" name= sousType   required  #sousType="ngModel" >
            <option  *ngFor="let Type of sousTypes" [value]="Type.id " >{{ Type.sousType }}</option>
          </select>
          <div class="text-left" *ngIf="sousType.invalid && (sousType.dirty || sousType.touched)" >
            <small class="text-danger text-left" *ngIf="sousType.errors.required">
              Le sous Type est obligatoire.
            </small>
          </div>
        </div>
      </div>
      <p class="h4 my-5 col-12">Address</p>
      <div class="row justify-content-between ">

        <div class="md-form col-2 px-0">

          <label for="voie">Voie</label>
          <input mdbInput type="text" id="voie" class="form-control " [(ngModel)]="profile.numVoie" name= voie  required #voie="ngModel"/>
          <div class="text-left" *ngIf="voie.invalid && (voie.dirty || voie.touched)" >
            <small class="text-danger text-left" *ngIf="voie.errors.required">
              Le Voie Type est obligatoire.
            </small>
          </div>
        </div>
        <div class="md-form col-6 px-0">

          <label for="rue">Address</label>
          <input mdbInput type="text" id="rue" class="form-control " [(ngModel)]="profile.nameVoie" name= rue  required #rue="ngModel"/>
          <div class="text-left" *ngIf="rue.invalid && (rue.dirty || rue.touched)" >
            <small class="text-danger text-left" *ngIf="rue.errors.required">
              L'Adresse  est obligatoire.
            </small>
          </div>
        </div>
      </div>
      <div class="row justify-content-between ">
        <div class="md-form col-4 px-0">

          <label for="adressComplete">Adress Complete</label>
          <input mdbInput type="text" id="adressComplete" class="form-control " ngModel name= adressComplete   #adressComplete="ngModel"/>

        </div>

        <div class="md-form col-2 px-0">

          <label for="codePostal">Code Postal</label>
          <input mdbInput type="text" id="codePostal" class="form-control " [(ngModel)]="profile.codePostal" name= codePostal  required #codePostal="ngModel"/>
          <div class="text-left" *ngIf="codePostal.invalid && (codePostal.dirty || codePostal.touched)" >
            <small class="text-danger text-left" *ngIf="codePostal.errors.required">
              Le codePostal  est obligatoire.
            </small>
          </div>
        </div>
        <div class="md-form col-4 px-0">

          <label for="city">City</label>
          <input mdbInput type="text" id="city" class="form-control " [(ngModel)]="profile.city" name= city  required #city="ngModel"/>
          <div class="text-left" *ngIf="city.invalid && (city.dirty || city.touched)" >
            <small class="text-danger text-left" *ngIf="city.errors.required">
              Le city  est obligatoire.
            </small>
          </div>
        </div>
      </div>
      <div class="row justify-content-between ">
        <div class="md-form col-5 px-0">

          <label for="state"> RÃ©gion </label>
          <input mdbInput type="text" id="state" class="form-control " [(ngModel)]="profile.state" name= state  required #state="ngModel"/>
          <div class="text-left" *ngIf="state.invalid && (state.dirty || state.touched)" >
            <small class="text-danger text-left" *ngIf="state.errors.required">
              Le state  est obligatoire.
            </small>
          </div>
        </div>
        <div class="md-form col-5 px-0">

          <label for="country">Country</label>
          <input mdbInput type="text" id="country" class="form-control " [(ngModel)]="profile.country" name= country  required #country="ngModel"/>
          <div class="text-left" *ngIf="country.invalid && (country.dirty || country.touched)" >
            <small class="text-danger text-left" *ngIf="country.errors.required">
              La country  est obligatoire.
            </small>
          </div>
        </div>
      </div>
      <div class="col-11">
        <button class="mt-5" mdbBtn color="amber" mdbWavesEffect type="submit" [disabled]="!editProfileForm.valid">{{"save"}}</button>
      </div>

    </form>
  </div>
</div>


